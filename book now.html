<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<title>LegalEase</title>
	<meta content="width=device-width, initial-scale=1.0" name="viewport">
	<meta content="LegalEase" name="keywords">
	<meta content="LegalEase" name="description">
	<!-- Google font -->
	<link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet">

	<!-- Bootstrap -->
	<link type="text/css" rel="stylesheet" href="css/bootstrap.min.css" />

	<!-- Custom stlylesheet -->
	<link type="text/css" rel="stylesheet" href="css/style.css" />

	<!-- Favicon -->
	<link href="img/favicon.ico" rel="icon">

	<!-- Google Font -->
	<link href="https://fonts.googleapis.com/css2?family=Lato&family=Oswald:wght@200;300;400&display=swap" rel="stylesheet">
	
	<!-- CSS Libraries -->
	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet">
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
	<link href="lib/animate/animate.min.css" rel="stylesheet">
	<link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">

	<!-- Stylesheet -->
	<link href="css/style.css" rel="stylesheet">
</head>

<body>
	<div class="webpage">
		<!-- Top Bar Start -->
		<div class="top-bar d-none d-md-block">
		   <div class="container-fluid">
			   <div class="row">
				   <div class="col-md-8">
					   <div class="top-bar-left">
						   <div class="text">
							   <i class="fa fa-phone-alt"></i>
							   <h2>Need Help?</h2>
							   <p>+92 331 5904655</p>
						   </div>
					   </div>
				   </div>
				   <div class="col-md-4">
					   <div class="top-bar-right">
						   <div class="social">
							   <a href=""><i class="fab fa-twitter"></i></a>
							   <a href="https://www.facebook.com/Aitmad-107436418581748"><i class="fab fa-facebook-f"></i></a>
							   <a href=""><i class="fab fa-linkedin-in"></i></a>
							   <a href="https://www.instagram.com/aitmad.law/"><i class="fab fa-instagram"></i></a>
						   </div>
					   </div>
				   </div>
			   </div>
		   </div>
	   </div>
	   <!-- Top Bar End -->
	   
	   <!-- Nav Bar Start -->
	   <div class="navbar navbar-expand-lg bg-dark navbar-dark">
		   <div class="container-fluid">
			   <a href="index.html" class="navbar-brand">LegalEase</a>
			   <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbarCollapse">
				   <span class="navbar-toggler-icon"></span>
			   </button>
	   
			   <div class="collapse navbar-collapse justify-content-between" id="navbarCollapse">
				   <div class="navbar-nav ml-auto">
					   <a href="index.html" class="nav-item nav-link active">Home</a>
					   <a href="service.html" class="nav-item nav-link">Practice Areas</a>
					   <a href="feature.html" class="nav-item nav-link">Features</a>
					   <a href="advisor.html" class="nav-item nav-link">Team</a>
					   <a href="review.html" class="nav-item nav-link">Testimonials</a>
					   <div class="nav-item dropdown">
						<a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Blogs</a>
						<div class="dropdown-menu">
							<a href="blog.html" class="dropdown-item">Blogs </a>
							<a href="econstitution.html" class="dropdown-item"> E-Constitution</a>
						</div>
					</div>
					   </div>
					   <a href="book appoitment.html" class="nav-item nav-link">Lawyers</a>
				   </div>
			   </div>
		   </div>
	   </div>
	   <!-- Nav Bar End -->
	   <div class="space">
	   
	   </div>
	   <div class="booknow">
	<div id="booking" class="section">
		<div class="section-center">
			<div class="container">
				<div class="row">
					<div class="booking-form">
						<div class="form-header">
							<h1>Book Appointment</h1>
						</div>
						<form>
							<div class="form-group">
								<span class="form-label">Purpose</span>
								<input id="userPurpose" class="form-control" type="text" placeholder="Enter purpose" required>
							</div>
							<div class="row">
								<div class="col-sm-5">
									<div class="form-group">
										<span class="form-label">Date</span>
										<input id="userDate" class="form-control" type="date" required>
									</div>
								</div>
								<div class="col-sm-7">
									<div class="row">
										<div class="col-sm-4">
											<div class="form-group">
												<span class="form-label">Hour</span>
												<select required id="userHour" class="form-control">
													<option>1</option>
													<option>2</option>
													<option>3</option>
													<option>4</option>
													<option>5</option>
													<option>6</option>
													<option>7</option>
													<option>8</option>
													<option>9</option>
													<option>10</option>
													<option>11</option>
													<option>12</option>
												</select>
												<span class="select-arrow"></span>
											</div>
										</div>
										<div class="col-sm-4">
											<div class="form-group">
												<span class="form-label">Min</span>
												<select required id="userMinute" class="form-control">
													<option>00</option>
													<option>05</option>
													<option>10</option>
													<option>15</option>
													<option>20</option>
													<option>25</option>
													<option>30</option>
													<option>35</option>
													<option>40</option>
													<option>45</option>
													<option>50</option>
													<option>55</option>
												</select>
												<span class="select-arrow"></span>
											</div>
										</div>
										<div class="col-sm-4">
											<div class="form-group">
												<span class="form-label">AM/PM</span>
												<select id="userFormat" class="form-control">
													<option>AM</option>
													<option>PM</option>
												</select>
												<span class="select-arrow"></span>
											</div>
										</div>
									</div>
								</div>
							</div>
							<div class="form-btn">
								<button class="submit-btn" style="color: #040404;
								background-color: #fff;
								font-weight: 700;
								height: 50px;
								border: none;
								width: 100%;
								display: block;
								border-radius: 3px;
								text-transform: uppercase;">Book Now</button>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
	</div>
	   </div>
	   <!-- Add this HTML for the popup/modal -->
<!-- <div id="bookingSuccessModal" class="modal">
	<div class="modal-content">
	  <span class="close">&times;</span>
	  <h2 id="bookingSuccessMessage"></h2>
	  <p id="bookingLink"></p>
	  <button id="copyLinkBtn">Copy Link</button>
	</div>
  </div>
   -->
   <div class="webpage">
	<!-- Footer Start -->
	<div class="footer">
	  <div class="container">
		<div class="row">
		  <div class="col-lg-7">
			<div class="row">
			  <div class="col-md-6">
				<div class="footer-contact">
				  <h2>Our Head Office</h2>
				  <p>
					<i class="fa fa-map-marker-alt"></i>Air
					University,Islamabad
				  </p>
				  <p><i class="fa fa-phone-alt"></i>+92 331 5904655</p>
				  <p><i class="fa fa-envelope"></i>legalease@gmail.com</p>
				  <div class="footer-social">
					<a href=""><i class="fab fa-twitter"></i></a>
					<a href=""><i class="fab fa-facebook-f"></i></a>
					<a href=""><i class="fab fa-youtube"></i></a>
					<a href=""><i class="fab fa-instagram"></i></a>
					<a href=""><i class="fab fa-linkedin-in"></i></a>
				  </div>
				</div>
			  </div>
			  <div class="col-md-6">
				<div class="footer-link">
				  <h2>Quick Links</h2>
				  <a href="">Terms of use</a>
				  <a href="">Privacy policy</a>
				  <a href="">Cookies</a>
				  <a href="">Help</a>
				  <a href="">FQAs</a>
				</div>
			  </div>
			</div>
		  </div>
		  <div class="col-lg-5">
			<div class="footer-newsletter">
			  <h2>Newsletter</h2>
			  <p>Connect with us!</p>
			  <div class="form">
				<input class="form-control" placeholder="Email goes here" />
				<button class="btn">Submit</button>
			  </div>
			</div>
		  </div>
		</div>
	  </div>
	  <div class="container copyright">
		<div class="row">
		  <div class="col-md-6">
			<p>&copy; <a href="#">LegalEase.com</a>, All Right Reserved.</p>
		  </div>
		  <div class="col-md-6">
			<p>
			  Designed By
			  <a href="https://htmlcodex.com"
				>Amna Nadeem, Amber Khalil, Irum Mahfooz</a
			  >
			</p>
		  </div>
		</div>
	  </div>
	</div>
	<!-- Footer End -->
  </div>
	<script>
		function getLawyerIdFromUrl() {
        const urlParams = new URLSearchParams(window.location.search);
        const id = urlParams.get("id");
        return id;
      }

      const lawyerId = getLawyerIdFromUrl();
      console.log("Lawyer ID:", lawyerId);

	//   // Get the modal
	//   const modal = document.getElementById("bookingSuccessModal");

	// 	// Get the <span> element that closes the modal
	// 	const closeBtn = modal.querySelector(".close");

	// 	// Get the message and link elements in the modal
	// 	const bookingSuccessMessage = document.getElementById("bookingSuccessMessage");
	// 	const bookingLink = document.getElementById("bookingLink");

	// 	// When the user clicks on <span> (x), close the modal
	// 	closeBtn.addEventListener('click', function() {
	// 		modal.style.display = "none";
	// 	});

	// 	// When the user clicks anywhere outside of the modal, close it
	// 	window.addEventListener('click', function(event) {
	// 		if (event.target == modal) {
	// 			modal.style.display = "none";
	// 		}
	// 	});

	// 	// When the user clicks the Copy Link button
	// 	const copyLinkBtn = document.getElementById("copyLinkBtn");
	// 	copyLinkBtn.addEventListener('click', function() {
	// 		const link = bookingLink.textContent;
	// 		// Copy the link to the clipboard
	// 		navigator.clipboard.writeText(link)
	// 			.then(() => {
	// 				console.log("Link copied to clipboard: " + link);
	// 			})
	// 			.catch(err => {
	// 				console.error('Error copying link to clipboard:', err);
	// 			});
	// 	});	

		const userDetails = JSON.parse(sessionStorage.getItem("userDetails"));

	  const form = document.querySelector('.booking-form form');
	  form.addEventListener('submit', function(event) {
        event.preventDefault();
        
        // Get form input values
        const userName1 = userDetails.userName;
        const userEmail1 = userDetails.email;
        const userPhone1 = userDetails.phone;
        const userLocation1 = userDetails.location;
        const userPurpose = document.getElementById('userPurpose').value;
        const userDate = document.getElementById('userDate').value;
        const userHour = document.getElementById('userHour').value;
        const userMinute = document.getElementById('userMinute').value;
        const userFormat = document.getElementById('userFormat').value;

        // Combine date and time inputs
        const bookingDate = `${userDate} ${userHour}:${userMinute} ${userFormat}`;

        // Prepare request body
        const requestBody = {
            userName: userName1,
            email: userEmail1,
            phone: userPhone1,
            purpose: userPurpose,
            address: userLocation1,
            bookingDate: bookingDate,
            lawyerId: lawyerId 
        };

		sessionStorage.setItem('bookingBody', JSON.stringify(requestBody));
        window.location.href = `payment.html?id=${lawyerId}`;

        // // Send POST request
        // fetch('http://localhost:80/booking', {
        //     method: 'POST',
        //     headers: {
        //         'Content-Type': 'application/json'
        //     },
        //     body: JSON.stringify(requestBody)
        // })
        // .then(response => response.json())
        // .then(data => {
        //     // Handle the response
        //     console.log('Booking successful:', data);
        //     const link = data?.link;
		// 	document.getElementById("bookingSuccessMessage").textContent = "Booking created successfully!";
		// 	document.getElementById("bookingLink").textContent = "Link: " + link;
		// 	document.getElementById("bookingSuccessModal").style.display = "block";
        // })
        // .catch(error => {
        //     console.error('Error booking appointment:', error);
        // });
    });
	</script>
</body>

</html>