<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>LegalEase</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta content="LegalEase" name="keywords" />
    <meta content="LegalEase" name="description" />

    <!-- Favicon -->
    <link href="img/favicon.ico" rel="icon" />

    <!-- Google Font -->
    <link
      href="https://fonts.googleapis.com/css2?family=Lato&family=Oswald:wght@200;300;400&display=swap"
      rel="stylesheet"
    />

    <!-- CSS Libraries -->
    <link
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css"
      rel="stylesheet"
    />
    <link href="lib/animate/animate.min.css" rel="stylesheet" />
    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet" />

    <!-- Stylesheet -->
    <link href="css/style.css" rel="stylesheet" />
  </head>

  <body>
    <div class="webpage">
      <!-- Top Bar Start -->
      <div class="top-bar d-none d-md-block">
        <div class="container-fluid">
          <div class="row">
            <div class="col-md-8">
              <div class="top-bar-left">
                <div class="text">
                  <i class="fa fa-phone-alt"></i>
                  <h2>Need Help?</h2>
                  <p>+92 331 5904655</p>
                </div>
              </div>
            </div>
            <div class="col-md-4">
              <div class="top-bar-right">
                <div class="social">
                  <a href=""><i class="fab fa-twitter"></i></a>
                  <a href="https://www.facebook.com/Aitmad-107436418581748"
                    ><i class="fab fa-facebook-f"></i
                  ></a>
                  <a href=""><i class="fab fa-linkedin-in"></i></a>
                  <a href="https://www.instagram.com/aitmad.law/"
                    ><i class="fab fa-instagram"></i
                  ></a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- Top Bar End -->

      <!-- Nav Bar Start -->
      <div class="navbar navbar-expand-lg bg-dark navbar-dark">
        <div class="container-fluid">
          <a href="index.html" class="navbar-brand">LegalEase</a>
          <button
            type="button"
            class="navbar-toggler"
            data-toggle="collapse"
            data-target="#navbarCollapse"
          >
            <span class="navbar-toggler-icon"></span>
          </button>

          <div
            class="collapse navbar-collapse justify-content-between"
            id="navbarCollapse"
          >
            <div class="navbar-nav ml-auto">
              <a href="index.html" class="nav-item nav-link active">Home</a>
              <a href="about.html" class="nav-item nav-link">About</a>
              <a href="service.html" class="nav-item nav-link"
                >Practice Areas</a
              >
              <a href="feature.html" class="nav-item nav-link">Features</a>
              <a href="advisor.html" class="nav-item nav-link">Team</a>
              <a href="review.html" class="nav-item nav-link">Testimonials</a>
              <div class="nav-item dropdown">
                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Blogs</a>
                <div class="dropdown-menu">
                    <a href="blog.html" class="dropdown-item">Blogs </a>
                    <a href="econstitution.html" class="dropdown-item"> E-Constitution</a>
                </div>
            </div>
              <a href="book appoitment.html" class="nav-item nav-link"
                >Lawyers</a
              >
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Nav Bar End -->
    <div class="space"></div>

    <div class="prof">
      <link
        rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/MaterialDesign-Webfont/7.2.96/css/materialdesignicons.min.css"
        integrity="sha512-LX0YV/MWBEn2dwXCYgQHrpa9HJkwB+S+bnBpifSOTO1No27TqNMKYoAn6ff2FBh03THAzAiiCwQ+aPX+/Qt/Ow=="
        crossorigin="anonymous"
        referrerpolicy="no-referrer"
      />
      <div class="container">
        <div class="row">
          <div class="col-xl-8">
            <div class="card">
              <div class="card-body pb-0">
                <div class="row align-items-center">
                  <div class="col-md-3">
                    <div class="text-center border-end">
                      <img
                      id="lawyerImg"
                        src=""
                        class="img-fluid avatar-xxl rounded-circle"
                        alt=""
                      />
                      <h5 id="type" class="text-muted font-size-13 mb-0"></h5>
                    </div>
                  </div>
                  <!-- end col -->
                  <div class="col-md-9">
                    <div class="ms-3">
                      <div>
                        <h4 class="card-title mb-2" id="name"></h4>
                        <p id="introduction" class="mb-0 text-muted"></p>
                      </div>
                      <div class="row my-4">
                        <div class="col-md-12">
                          <div>
                            <p id="email" class="text-muted mb-2 fw-medium">
                              <i class="mdi mdi-email-outline me-2"></i>
                            </p>
                            <p id="phone" class="text-muted fw-medium mb-0">
                              <i class="mdi mdi-phone-in-talk-outline me-2"></i>
                            </p>
                          </div>
                        </div>
                        <!-- end col -->
                      </div>
                      <!-- end row -->
                      <!-- end ul -->
                    </div>
                  </div>
                  <!-- end col -->
                </div>
                <!-- end row -->
              </div>
              <!-- end card body -->
            </div>
            <!-- end card -->

            <div class="card">
              <div class="tab-content p-4">
                <div class="tab-pane active show" id="team-tab" role="tabpanel">
                  <h4 class="card-title mb-4">Services</h4>
                  <div class="row" id="servicesContainer">
                    <!-- end col -->
                  </div>
                  <!-- end row -->
                </div>
                <!-- end tab pane -->
              </div>
            </div>
            <!-- end card -->
          </div>
          <!-- end col -->

          <div class="col-xl-4">
            <div class="card">
              <div class="card-body">
                <div class="pb-2">
                  <h4 class="card-title mb-3">About</h4>
                  <p id="about"></p>
                  <ul class="ps-3 mb-0">
                    <li>Guidance</li>
                    <li>Complete Consultation</li>
                  </ul>
                  <!-- end ul -->
                </div>
                <hr />
                <div class="pt-2" id="skillContainer">
                  <h4 class="card-title mb-4">My Skill</h4>
                  <div class="d-flex gap-2 flex-wrap"></div>
                </div>
                <div class="pt-2"  style="margin-top:10px;"id="expContainer" >
                  <h4 class="card-title">Experience</h4>
                  <div class="d-flex gap-2 flex-wrap" ></div>
                </div>
                <div class="pt-2" style="margin-top: 10px;" id="satisfaction">
                  <h4 class="card-title">Satisfaction</h4>
                  <div class="d-flex gap-2 flex-wrap" ></div>
                </div>
                <div class="pt-2" style="margin-top: 10px;" id="pricing">
                  <h4 class="card-title ">Pricing</h4>
                  <div class="d-flex gap-2 flex-wrap" ></div>
                </div>
              </div>
              <!-- end cardbody -->
            </div>
            <!-- end card -->

            <div class="card">
              <div class="card-body">
                <div btnbook>
                  <a id="btnBookAnchor" href="" class="profile-link">
                    <button class="btn draw-border">Book Now</button>
                  </a>
                </div>
              </div>
              <!-- end card body -->
            </div>
            <!-- end card -->
          </div>
          <!-- end col -->
        </div>
      </div>
    </div>

    <div class="webpage">
      <!-- Footer Start -->
      <div class="footer">
        <div class="container">
          <div class="row">
            <div class="col-lg-7">
              <div class="row">
                <div class="col-md-6">
                  <div class="footer-contact">
                    <h2>Our Head Office</h2>
                    <p>
                      <i class="fa fa-map-marker-alt"></i>Air
                      University,Islamabad
                    </p>
                    <p><i class="fa fa-phone-alt"></i>+92 331 5904655</p>
                    <p><i class="fa fa-envelope"></i>legalease@gmail.com</p>
                    <div class="footer-social">
                      <a href=""><i class="fab fa-twitter"></i></a>
                      <a href=""><i class="fab fa-facebook-f"></i></a>
                      <a href=""><i class="fab fa-youtube"></i></a>
                      <a href=""><i class="fab fa-instagram"></i></a>
                      <a href=""><i class="fab fa-linkedin-in"></i></a>
                    </div>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="footer-link">
                    <h2>Quick Links</h2>
                    <a href="">Terms of use</a>
                    <a href="">Privacy policy</a>
                    <a href="">Cookies</a>
                    <a href="">Help</a>
                    <a href="">FQAs</a>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-lg-5">
              <div class="footer-newsletter">
                <h2>Newsletter</h2>
                <p>Connect with us!</p>
                <div class="form">
                  <input class="form-control" placeholder="Email goes here" />
                  <button class="btn">Submit</button>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="container copyright">
          <div class="row">
            <div class="col-md-6">
              <p>&copy; <a href="#">LegalEase.com</a>, All Right Reserved.</p>
            </div>
            <div class="col-md-6">
              <p>
                Designed By
                <a href="https://htmlcodex.com"
                  >Amna Nadeem, Amber Khalil, Irum Mahfooz</a
                >
              </p>
            </div>
          </div>
        </div>
      </div>
      <!-- Footer End -->
    </div>

    <script>
      function getLawyerIdFromUrl() {
        const urlParams = new URLSearchParams(window.location.search);
        const id = urlParams.get("id");
        return id;
      }

      let lawyer;

      const lawyerId = getLawyerIdFromUrl();
      console.log("Lawyer ID:", lawyerId);

      const btnBookAnchor = document.getElementById("btnBookAnchor");
      btnBookAnchor.href = `signupform.html?id=${lawyerId}`;

      fetch(`http://localhost:80/lawyers/${lawyerId}`)
        .then((response) => response.json())
        .then((data) => {
          const name = document.getElementById("name");
          name.innerHTML = data?.name;

          const type = document.getElementById("type");
          type.innerHTML = data?.type;

          const introduction = document.getElementById("introduction");
          introduction.innerHTML = data?.introduction;

          const email = document.getElementById("email");
          email.innerHTML = data?.email;

          const phone = document.getElementById("phone");
          phone.innerHTML = data?.phone;

          const about = document.getElementById("about");
          about.innerHTML = data?.about;

          const lawyerImg = document.getElementById("lawyerImg");
          lawyerImg.src = data?.avatarUrl;

          const expContainer = document.getElementById("expContainer");
          const expSpan = document.createElement("span");
            expSpan.classList.add("badge", "badge-soft-secondary", "p-2");
            expSpan.textContent = data?.experience + "yrs";
            expContainer.querySelector(".flex-wrap").appendChild(expSpan);

          const satisfaction = document.getElementById("satisfaction");
          const satisfactionSpan = document.createElement("span");
          satisfactionSpan.classList.add("badge", "badge-soft-secondary", "p-2");
          satisfactionSpan.textContent = data?.satisfaction + "%";
          satisfaction.querySelector(".flex-wrap").appendChild(satisfactionSpan);
            
          const pricing = document.getElementById("pricing");
          const pricingSpan = document.createElement("span");
          pricingSpan.classList.add("badge", "badge-soft-secondary", "p-2");
          pricingSpan.textContent = "Rs. "+ data?.price;
          pricing.querySelector(".flex-wrap").appendChild(pricingSpan);

          // Get the skill container
          const skillContainer = document.getElementById("skillContainer");

          // Loop through each skill and create a span element for it
          data?.skills.forEach((skill) => {
            const skillSpan = document.createElement("span");
            skillSpan.classList.add("badge", "badge-soft-secondary", "p-2");
            skillSpan.textContent = skill.skill_name;
            skillContainer.querySelector(".flex-wrap").appendChild(skillSpan);
          });

            

          const container = document.getElementById("servicesContainer");

          // Loop through each service data
          data?.services.forEach((service) => {
            console;
            const cardWrapper = document.createElement("div");
            cardWrapper.classList.add("col-xl-4", "col-md-6");
            cardWrapper.innerHTML = createServiceCard(service);

            // Append the card to the container
            container.appendChild(cardWrapper);
          });
        })
        .catch((error) =>
          console.error("Error fetching lawyer details:", error)
        );

      function createServiceCard(service) {
        const projects = service.projects
          .split(",")
          .map((project) => project.trim());
        const numberOfProjects = projects.length;
        return `
                      <div class="card">
                        <div class="card-body">
                          <div class="d-flex mb-4">
                            <div class="flex-grow-1 align-items-start">
                              <div class="avatar-group float-start flex-grow-1">
                                <div class="avatar-group-item">
                                  <a
                                    href="javascript: void(0);"
                                    class="d-block"
                                    data-bs-toggle="tooltip"
                                    data-bs-placement="top"
                                    data-bs-original-title="James Ross"
                                  >
                                    <div class="avatar-sm">
                                      <div
                                        class="avatar-title rounded-circle bg-purple"
                                      >
                                        J
                                      </div>
                                    </div>
                                  </a>
                                </div>
                                <div class="avatar-group-item">
                                  <a
                                    href="javascript: void(0);"
                                    class="d-inline-block"
                                    data-bs-toggle="tooltip"
                                    data-bs-placement="top"
                                    aria-label="Jansh Wells"
                                    data-bs-original-title="Jansh Wells"
                                  >
                                    <img
                                      src="https://bootdey.com/img/Content/avatar/avatar1.png"
                                      alt=""
                                      class="rounded-circle avatar-sm"
                                    />
                                  </a>
                                </div>
                                <div class="avatar-group-item">
                                  <a
                                    href="javascript: void(0);"
                                    class="d-inline-block"
                                    data-bs-toggle="tooltip"
                                    data-bs-placement="top"
                                    aria-label="Dan Gibson"
                                    data-bs-original-title="Dan Gibson"
                                  >
                                    <img
                                      src="https://bootdey.com/img/Content/avatar/avatar2.png"
                                      alt=""
                                      class="rounded-circle avatar-sm"
                                    />
                                  </a>
                                </div>
                              </div>
                              <!-- end avatar group -->
                            </div>
                            <div class="dropdown ms-2">
                              <a
                                href="#"
                                class="dropdown-toggle font-size-16 text-muted"
                                data-bs-toggle="dropdown"
                                aria-haspopup="true"
                                aria-expanded="false"
                              >
                                <i class="mdi mdi-dots-horizontal"></i>
                              </a>

                              <div class="dropdown-menu dropdown-menu-end">
                                <a
                                  class="dropdown-item"
                                  href="javascript: void(0);"
                                  >Edit</a
                                >
                                <div class="dropdown-divider"></div>
                                <a
                                  class="dropdown-item text-danger leave-team"
                                  data-id="5"
                                  data-bs-toggle="modal"
                                  data-bs-target=".bs-add-leave-team"
                                  href="javascript: void(0);"
                                >
                                  Leave Team</a
                                >
                              </div>
                            </div>
                          </div>
                          <div>
                            <h5 class="mb-1 font-size-17">${service?.service_name}</h5>
                            <p class="text-muted font-size-13 mb-0">
                              ${numberOfProjects}
                            </p>
                          </div>
                        </div>
                      </div>`;
      }
    </script>
  </body>
</html>
